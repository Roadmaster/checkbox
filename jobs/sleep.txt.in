plugin: shell
name: network_before_suspend
depends: network
description: Test the network before suspending.
command: internet_test

plugin: shell
name: resolution_before_suspend
description: Record the current resolution before suspending.
command: xrandr -q |grep '*'| awk '{print $1}' > $CHECKBOX_DATA/resolution_before_suspend.txt

plugin: shell
name: sleep_state_test
depends: rtc network_before_suspend resolution_before_suspend
requires: package.name == 'pm-utils'
description: Power management Suspend and Resume test
user: root
command: sleep_test

plugin: shell
name: network_after_suspend
depends: sleep_state_test network_before_suspend
description: Test the network after resuming.
command: internet_test

plugin: shell
name: resolution_after_suspend
depends: sleep_state_test resolution_before_suspend
description: Test to see that we have the same resolution after resuming as before.
command: xrandr -q |grep '*'| awk '{print $1}' | diff $CHECKBOX_DATA/resolution_before_suspend.txt -

plugin: manual
name: suspend_30_cycles
depends: rtc
requires: package.name == 'pm-utils'
user: root
command: sleep_test -i 30 -s mem --debug
description: 
 Enter and resume from suspend state for 30 iterations. Please note that this is a lengthy test. Click Test to begin.
 .
 Did the system successfully suspend and resume for 30 iterations?

plugin: manual
name: hibernate_30_cycles
depends: rtc
requires: package.name == 'pm-utils'
user: root
commnad: sleep_test -i 30 -s disk -w 120 --debug
description:
 Enter and resume from hibernate for 30 iterations. Please note that this is a very lengthy test. Also, if your system does not wake itself after 2 minutes, you will need to press the power button to wake the system up.
 .
 Also, you will need to ensure your system has no power-on or HDD passwords set, and that grub is set to boot Ubuntu by default if you have a multi-boot set-up.
 .
 Did the system successfully hibernate and wake 30 times?
