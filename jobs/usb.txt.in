plugin: shell 
name: usb/detect
requires: package.name == 'linux'
command: lsusb | sed 's/.*\(ID .*\)/\1/' | head -n 4
_description: Detects and shows USB devices attached to this system.

plugin: manual
name: usb/disk_detect
depends: usb/detect
requires: package.name == 'linux'
command: usb_test -l
_description:
 PURPOSE:
     This test will check your USB connection.
 STEPS:
     1. Plug in one or more USB keys or hard drives.
     2. Click on "Test".
 INFO:
     $output
 VERIFICATION:
     Were the drives detected?

plugin: manual
name: usb/keyboard
depends: usb/detect
requires: package.name == 'linux'
command: keyboard_test
_description:
 PURPOSE:
     This test will check your USB connection.
 STEPS:
     1. Plug a USB keyboard into the computer.
     2. Click on "Test" and enter some text.
 VERIFICATION:
     Does the keyboard work?

plugin: manual
name: usb/mouse
depends: usb/detect
requires: package.name == 'linux'
_description:
 PURPOSE:
     This test will check your USB connection.
 STEPS:
     1. Plug a USB mouse into the computer.
     2. Perform some single/double/right click operations.
 VERIFICATION:
     Does the mouse work correctly?

plugin: manual
name: usb/insert
depends: usb/detect
requires: package.name == 'linux'
command: watch_command -q -r 5 lsusb
_description:
 PURPOSE:
     This test will check your USB connection.
 STEPS:
     1. Click "Test" and insert a USB device within 5 seconds.
     2. Do not unplug the device after the test.
 VERIFICATION:
     The verification of this test is automated.

plugin: manual
name: usb/remove
depends: usb/insert
requires: package.name == 'linux'
command: watch_command -q -r 5 lsusb
_description:
 PURPOSE:
     This test will check your USB connection.
 STEPS:
     1. Click "Test" and remove the USB device within 5 seconds.
     2. Do not unplug the device after the test.
 VERIFICATION:
     The verification of this test is automated.

plugin: manual
name: usb/storage-transfer
requires: package.name == 'linux'
command: usb_test -t
_description:
 PURPOSE:
     This test will check your USB connection.
 STEPS:
     1. Plug a USB HDD or thumbdrive into the computer.
     2. An icon should appear on the Launcher.
     3. Click "Test" to begin the test.
 VERIFICATION:
     The verification of this test is automated.

plugin: shell
name: usb/storage-automated
requires: package.name == 'linux'
command: usb_test -t
_description:
 This test is automated and requires that you plug in at least one usb storage device before running checkbox.

plugin: manual
name: usb/panels
requires: package.name == 'linux'
_description:
 PURPOSE:
     This test will check your USB connection.
 STEPS:
     1. Connect a USB storage device to an external USB slot on this computer.
     2. An icon should appear on the Launcher.
     3. Confirm that the icon appears.
     4. Eject the device.
     5. Repeat with each external USB slot.
 VERIFICATION:
     Do all USB slots work with the device?
