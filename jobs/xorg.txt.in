plugin: shell
name: xorg-process
requires: package.name == 'xorg' and package.name == 'procps'
command: pgrep -f '/usr/bin/X' >/dev/null
_description: Test that the X process is running.

plugin: shell
name: xorg-failsafe
requires: package.name == 'xorg'
command: ! test -e /var/log/Xorg.failsafe.log
_description: Test that the X is not running in failsafe mode.

plugin: shell
name: xorg-memory
requires: package.name == 'xorg' and device.driver == 'i915'
user: root
command: xorg_memory_test xeyes
_description: Test that X does not leak memory when running programs.
