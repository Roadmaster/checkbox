plugin: shell
name: piglit/fbo_tests
requires:
 package.name == 'piglit'
command: 
 piglit-run.py -t fbo /usr/share/piglit/tests/all.tests $CHECKBOX_DATA/piglit-results/fbo
_description:
 Runs the piglit test suite fbo test

plugin: shell
name: piglit/texturizing_tests
requires:
 package.name == 'piglit'
command: 
 piglit-run.py -t texturize /usr/share/piglit/tests/all.tests $CHECKBOX_DATA/piglit-results/texturize
_description:
 Runs the piglit test suite texturizing tests

plugin: shell
name: piglit/summarize_results
requires:
 package.name == 'piglit'
command: [ -e $CHECKBOX_DATA/piglit-results ] && piglit-summary-html.py $CHECKBOX_DATA/piglit-summary/ `find $CHECKBOX_DATA/piglit-results/ -name main` && echo "Successfully summarized piglit results. They are available in $CHECKBOX_DATA/piglit-results.tar.gz"
_description:
 Runs the piglit results gathering.

plugin: shell
name: piglit/tarball
requires:
 package.name == 'piglit'
depends: piglit/summarize_results
command: [ -e $CHECKBOX_DATA/piglit-summary ] && tar cvfz $CHECKBOX_DATA/piglit-results.tar.gz $CHECKBOX_DATA/piglit-summary/
