#!/usr/bin/env python

import os
import sys


# Workaround for python-support on older systems
directory = "/usr/share/python-support"
packages = ["hwtest"]

basename = os.path.basename(sys.argv[0])
if basename.endswith("gtk"):
    packages.append("hwtest-gtk")
elif basename.endswith("cli"):
    packages.append("hwtest-cli")

for package in packages:
    sys.path[:0] = [os.path.join(directory, package)]


from hwtest.application import ApplicationManager


def main():
    manager = ApplicationManager()
    application = manager.create_application(sys.argv)
    application.run()


if __name__ == "__main__":
    main()
